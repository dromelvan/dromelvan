<ol class="breadcrumb">
  <li><%= link_to "Home", root_path %></li>
  
  <% breadcrumbs.each do |breadcrumb| %>
  
    <% if breadcrumb == :index then %>      
      <% if action_name == 'index' then %>
      <li><%= controller_name.titleize %></li>
      <% else %>
      <li><%= link_to controller_name.titleize, url_for(action: 'index') %></li>
      <% end %>
      
    <% elsif breadcrumb == :name then %>
      <li><%= instance_variable_get("@#{controller_name.singularize}").name %></li>

    <% elsif breadcrumb == :title then %>
      <li><%= yield :title %></li>
            
    <% elsif breadcrumb == :select_season then %>
      <li>
        <%= form_tag url_for(action: breadcrumb), class: "onchange-submit-form" do %>
          <%= collection_select :season, :id, Season.all, :id, :name, {}, { onchange: 'this.form.submit()' } %>
        <% end %>      
      </li>
      
    <% elsif breadcrumb == :select then %>
      <li>
        <%= form_tag url_for(action: breadcrumb), class: "onchange-submit-form" do %>        
          <%= collection_select controller_name.singularize, :id,
              controller_name.singularize.classify.constantize.where(select_where), :id, :name, {}, { onchange: 'this.form.submit()' } %>
        <% end %>              
      </li>
      
    <% elsif breadcrumb.is_a?(Class) then %>
      <li><%= link_to breadcrumb.name.pluralize, url_for(controller: breadcrumb.name.downcase.pluralize, action: 'index') %></li>
      
    <% elsif breadcrumb.is_a?(ActiveRecord::Base) then %>
      <li><%= render breadcrumb %></li>
      
    <% else %>
      <li><%= breadcrumb %></li>
    <% end %>
    
  <% end %>
</ol>
