player_season_infos = [
  [ 2, "alisson", 105 ],
  [ 2, "fabian-balbuena", 10 ],
  [ 2, "yerry-mina", 35 ],
  [ 2, "mamadou-sakho", 20 ],
  [ 2, "sokratis", 15 ],
  [ 2, "wilfred-ndidi", 25 ],
  [ 2, "max-meyer", 10 ],
  [ 2, "etienne-capoue", 5 ],
  [ 2, "marco-stiepermann", 20 ],
  [ 2, "sadio-mane", 170 ],
  [ 2, "sebastien-haller", 75 ],
  [ 4, "kepa-arrizabalaga", 75 ],
  [ 4, "yan-valery", 5 ],
  [ 4, "chris-smalling", 5 ],
  [ 4, "nathan-ake", 30 ],
  [ 4, "andrew-robertson", 110 ],
  [ 4, "rodri", 20 ],
  [ 4, "bernardo-silva", 90 ],
  [ 4, "nathan-redmond", 50 ],
  [ 4, "gylfi-sigurdsson", 100 ],
  [ 4, "che-adams", 5 ],
  [ 4, "olivier-giroud", 10 ],
  [ 7, "dean-henderson", 15 ],
  [ 7, "lewis-dunk", 25 ],
  [ 7, "james-tarkowski", 15 ],
  [ 7, "ben-mee", 15 ],
  [ 7, "seamus-coleman", 25 ],
  [ 7, "james-maddison", 85 ],
  [ 7, "leandro-trossard", 70 ],
  [ 7, "paul-pogba", 100 ],
  [ 7, "john-mcginn", 20 ],
  [ 7, "nicolas-pepe", 110 ],
  [ 7, "chris-wood", 10 ],
  [ 12, "vicente-guaita", 5 ],
  [ 12, "shane-duffy", 15 ],
  [ 12, "joao-cancelo", 110 ],
  [ 12, "trent-alexander-arnold", 105 ],
  [ 12, "willy-boly", 35 ],
  [ 12, "daniel-james", 35 ],
  [ 12, "alex-oxlade-chamberlain", 15 ],
  [ 12, "andros-townsend", 20 ],
  [ 12, "georginio-wijnaldum", 45 ],
  [ 12, "joelinton", 20 ],
  [ 12, "wilfried-zaha", 95 ],
  [ 13, "nick-pope", 50 ],
  [ 13, "lloyd-kelly", 5 ],
  [ 13, "john-stones", 65 ],
  [ 13, "ben-davies", 45 ],
  [ 13, "benjamin-mendy", 10 ],
  [ 13, "pierre-emile-hojbjerg", 15 ],
  [ 13, "tanguy-ndombele", 25 ],
  [ 13, "emiliano-buendia", 45 ],
  [ 13, "dwight-mcneil", 5 ],
  [ 13, "harry-kane", 200 ],
  [ 13, "teemu-pukki", 35 ],
  [ 16, "tom-heaton", 35 ],
  [ 16, "tyrone-mings", 30 ],
  [ 16, "kyle-walker-peters", 30 ],
  [ 16, "matt-targett", 15 ],
  [ 16, "patrick-van-aanholt", 30 ],
  [ 16, "felipe-anderson", 90 ],
  [ 16, "joao-moutinho", 45 ],
  [ 16, "henrikh-mkhitaryan", 35 ],
  [ 16, "jack-grealish", 70 ],
  [ 16, "tammy-abraham", 35 ],
  [ 16, "wesley", 25 ],
  [ 24, "bernd-leno", 50 ],
  [ 24, "antonio-rudiger", 20 ],
  [ 24, "cesar-azpilicueta", 75 ],
  [ 24, "lucas-digne", 80 ],
  [ 24, "michael-keane", 55 ],
  [ 24, "lucas-torreira", 5 ],
  [ 24, "onel-hernandez", 5 ],
  [ 24, "mark-duffy", 5 ],
  [ 24, "miguel-almiron", 15 ],
  [ 24, "raul-jimenez", 100 ],
  [ 24, "callum-wilson", 70 ],
  [ 29, "ederson", 100 ],
  [ 29, "conor-coady", 40 ],
  [ 29, "harry-maguire", 75 ],
  [ 29, "jonny-evans", 10 ],
  [ 29, "matt-doherty", 60 ],
  [ 29, "n-golo-kante", 20 ],
  [ 29, "daniel-drinkwater", 15 ],
  [ 29, "phil-foden", 5 ],
  [ 29, "christian-eriksen", 100 ],
  [ 29, "leroy-sane", 5 ],
  [ 29, "diogo-jota", 70 ],
  [ 32, "rui-patricio", 30 ],
  [ 32, "djibril-sidibe", 30 ],
  [ 32, "jonny", 35 ],
  [ 32, "jose-holebas", 15 ],
  [ 32, "kieran-tierney", 35 ],
  [ 32, "dele-alli", 95 ],
  [ 32, "mario-lemina", 5 ],
  [ 32, "youri-tielemans", 60 ],
  [ 32, "ross-barkley", 60 ],
  [ 32, "marcus-rashford", 130 ],
  [ 32, "gerard-deulofeu", 5 ],
  [ 33, "martin-dubravka", 35 ],
  [ 33, "virgil-van-dijk", 145 ],
  [ 33, "jamaal-lascelles", 5 ],
  [ 33, "ryan-bertrand", 20 ],
  [ 33, "danny-rose", 5 ],
  [ 33, "ryan-fraser", 70 ],
  [ 33, "luka-milivojevic", 80 ],
  [ 33, "christian-pulisic", 90 ],
  [ 33, "trezeguet", 20 ],
  [ 33, "allan-saint-maximin", 5 ],
  [ 33, "riyad-mahrez", 25 ],
  [ 34, "kasper-schmeichel", 50 ],
  [ 34, "charlie-taylor", 10 ],
  [ 34, "rob-holding", 5 ],
  [ 34, "emerson", 30 ],
  [ 34, "oleksandr-zinchenko", 75 ],
  [ 34, "luke-freeman", 5 ],
  [ 34, "bernard", 10 ],
  [ 34, "kevin-de-bruyne", 150 ],
  [ 34, "sofiane-boufal", 5 ],
  [ 34, "alexandre-lacazette", 130 ],
  [ 34, "moise-kean", 30 ],
  [ 35, "lukasz-fabianski", 10 ],
  [ 35, "ben-chilwell", 65 ],
  [ 35, "shkodran-mustafi", 5 ],
  [ 35, "kurt-zouma", 50 ],
  [ 35, "joseph-gomez", 75 ],
  [ 35, "harry-wilson", 35 ],
  [ 35, "jesse-lingard", 35 ],
  [ 35, "mateo-kovacic", 15 ],
  [ 35, "james-milner", 10 ],
  [ 35, "richarlison", 100 ],
  [ 35, "ayoze-perez", 70 ],
  [ 37, "jordan-pickford", 95 ],
  [ 37, "ashley-young", 5 ],
  [ 37, "nacho-monreal", 5 ],
  [ 37, "gary-cahill", 5 ],
  [ 37, "emil-krafth", 5 ],
  [ 37, "alex-iwobi", 15 ],
  [ 37, "fabian-delph", 5 ],
  [ 37, "andre-gomes", 15 ],
  [ 37, "jean-philippe-gbamin", 5 ],
  [ 37, "sergio-aguero", 175 ],
  [ 37, "jamie-vardy", 135 ],
  [ 38, "hugo-lloris", 80 ],
  [ 38, "fabian-schar", 25 ],
  [ 38, "matthew-lowton", 5 ],
  [ 38, "jeffrey-schlupp", 5 ],
  [ 38, "craig-cathcart", 5 ],
  [ 38, "david-silva", 75 ],
  [ 38, "demarai-gray", 5 ],
  [ 38, "stuart-armstrong", 5 ],
  [ 38, "michail-antonio", 30 ],
  [ 38, "raheem-sterling", 205 ],
  [ 38, "joshua-king", 40 ],
  [ 41, "ralf-fahrmann", 5 ],
  [ 41, "victor-lindelof", 60 ],
  [ 41, "issa-diop", 25 ],
  [ 41, "aaron-wan-bissaka", 80 ],
  [ 41, "luke-shaw", 80 ],
  [ 41, "erik-lamela", 10 ],
  [ 41, "lucas-moura", 80 ],
  [ 41, "conor-hourihane", 5 ],
  [ 41, "johann-gudmundsson", 5 ],
  [ 41, "anthony-martial", 30 ],
  [ 41, "son-heung-min", 80 ],
  [ 42, "david-de-gea", 70 ],
  [ 42, "marcos-alonso", 80 ],
  [ 42, "toby-alderweireld", 65 ],
  [ 42, "sead-kolasinac", 45 ],
  [ 42, "nicolas-otamendi", 25 ],
  [ 42, "anwar-el-ghazi", 5 ],
  [ 42, "dani-ceballos", 40 ],
  [ 42, "abdoulaye-doucoure", 25 ],
  [ 42, "roberto-pereyra", 40 ],
  [ 42, "neal-maupay", 10 ],
  [ 42, "gabriel-jesus", 55 ],
  [ 43, "ben-foster", 25 ],
  [ 43, "ricardo-pereira", 75 ],
  [ 43, "davinson-sanchez", 10 ],
  [ 43, "max-aarons", 5 ],
  [ 43, "angelino", 5 ],
  [ 43, "ruben-neves", 45 ],
  [ 43, "pablo-fornals", 65 ],
  [ 43, "ilkay-gundogan", 5 ],
  [ 43, "james-ward-prowse", 35 ],
  [ 43, "pierre-emerick-aubameyang", 180 ],
  [ 43, "ashley-barnes", 30 ],
  [ 48, "angus-gunn", 5 ],
  [ 48, "aymeric-laporte", 95 ],
  [ 48, "andreas-christensen", 25 ],
  [ 48, "jannik-vestergaard", 15 ],
  [ 48, "aaron-cresswell", 10 ],
  [ 48, "mason-mount", 30 ],
  [ 48, "jorginho", 10 ],
  [ 48, "will-hughes", 10 ],
  [ 48, "naby-keita", 15 ],
  [ 48, "pedro", 40 ],
  [ 48, "mohamed-salah", 220 ],
  [ 50, "mat-ryan", 10 ],
  [ 50, "kyle-walker", 80 ],
  [ 50, "joel-matip", 35 ],
  [ 50, "jan-vertonghen", 70 ],
  [ 50, "david-luiz", 30 ],
  [ 50, "manuel-lanzini", 65 ],
  [ 50, "jordan-henderson", 5 ],
  [ 50, "mesut-ozil", 30 ],
  [ 50, "juan-mata", 15 ],
  [ 50, "willian", 15 ],
  [ 50, "roberto-firmino", 145 ],
  [ 31, "simon-moore", 45 ],
  [ 31, "ryan-bennett", 45 ],
  [ 31, "maya-yoshida", 45 ],
  [ 31, "ciaran-clark", 45 ],
  [ 31, "ryan-fredericks", 45 ],
  [ 31, "mario-vrancic", 45 ],
  [ 31, "jota", 45 ],
  [ 31, "leander-dendoncker", 45 ],
  [ 31, "moussa-sissoko", 45 ],
  [ 31, "troy-deeney", 45 ],
  [ 31, "danny-ings", 50 ],

]

season = Season.current
transfer_day = TransferDay.current

player_season_infos.each do |d11_team_id, parameterized_name, fee|
  players = Player.where(parameterized_name: parameterized_name)
  if players.size != 1 then
    puts "#{players.size} matches for player #{parameterized_name}"
  else
    player = players.first
    d11_team = D11Team.find(d11_team_id)
    d11_team_table_stat = season.d11_league.d11_team_table_stats.where(d11_team: d11_team).first
    player_season_stat = PlayerSeasonStat.where(player: player, season: season).first

    puts "Transferring #{player.name} to #{d11_team.name} for #{fee}"

    transfer_bid = TransferBid.new
    transfer_bid.transfer_day = transfer_day
    transfer_bid.player = player
    transfer_bid.player_ranking = player_season_stat.ranking
    transfer_bid.d11_team = d11_team
    transfer_bid.d11_team_ranking = d11_team_table_stat.ranking
    transfer_bid.fee = fee
    transfer_bid.active_fee = fee
    transfer_bid.successful = true
    transfer_bid.save

    transfer = Transfer.new
    transfer.transfer_day = transfer_day
    transfer.player = player
    transfer.d11_team = d11_team
    transfer.fee = fee
    transfer.save

    player_season_info = player.season_info(season)
    player_season_info.value = transfer.fee
    player_season_info.d11_team = d11_team
    player_season_info.save
  end
end

puts "Inserted #{transfer_day.transfer_bids.size} bids and #{transfer_day.transfers.size} transfers."
